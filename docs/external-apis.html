<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ì™¸ë¶€ API ì—°ë™ | ì²­ì•½í”Œë˜ë‹›</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
<div class="container">
  <header class="header">
    <h1>ì™¸ë¶€ API ì—°ë™</h1>
    <p class="subtitle">ì™¸ë¶€ API ì—°ë™ ë¬¸ì„œ</p>
    <p class="description">ì²­ì•½í”Œë˜ë‹› ë°±ì—”ë“œ ê´€ë ¨ ë¬¸ì„œì…ë‹ˆë‹¤.</p>
  </header>
  <section class="quick-start">
    <h2>ì™¸ë¶€ API í†µí•© ë¬¸ì„œ</h2>
    <br>
    <h3>ğŸŒ ê°œìš”</h3>
    <br>
    <p>ì²­ì•½í”Œë˜ë‹›ì€ ì¢…í•©ì ì¸ ë¶€ë™ì‚° ì •ë³´ë¥¼ ì œê³µí•˜ê¸° ìœ„í•´ ì—¬ëŸ¬ í•œêµ­ ì •ë¶€ ë° ìƒì—… APIì™€ í†µí•©ë©ë‹ˆë‹¤. ì´ ë¬¸ì„œëŠ” ëª¨ë“  ì™¸ë¶€ API í†µí•©, ëª©ì  ë° êµ¬í˜„ ì„¸ë¶€ ì •ë³´ë¥¼ ì„¤ëª…í•©ë‹ˆë‹¤.</p>
    <br>
    <h3>ğŸ›ï¸ ì •ë¶€ API</h3>
    <br>
    <h4>1. í•œêµ­í† ì§€ì£¼íƒê³µì‚¬(LH) API</h4>
    <br>
    <p>#### ëª©ì </p>
    <p>ì •ë¶€ ì£¼íƒ ê³µì‚¬ë¡œë¶€í„° í•œêµ­ ê³µê³µ ì£¼íƒ ì²­ì•½ ì •ë³´ë¥¼ ì§ì ‘ ê²€ìƒ‰í•©ë‹ˆë‹¤.</p>
    <br>
    <p>#### API ì„¸ë¶€ ì •ë³´</p>
    <li>**ì œê³µì**: í•œêµ­í† ì§€ì£¼íƒê³µì‚¬(LH)</li>
    <li>**ê¸°ë³¸ URL**: `https://api.odcloud.kr/api/ApplyhomeInfoDetailSvc/v1`</li>
    <li>**ì¸ì¦**: ì„œë¹„ìŠ¤ í‚¤ (API í‚¤)</li>
    <li>**í˜¸ì¶œ ì œí•œ**: 1ì¼ 1000ê±´</li>
    <li>**ë°ì´í„° í˜•ì‹**: JSON</li>
    <br>
    <p>#### ì‚¬ìš©ëœ ì—”ë“œí¬ì¸íŠ¸</p>
    <br>
    <p>##### ì•„íŒŒíŠ¸ ì²­ì•½ ì„¸ë¶€ ì •ë³´ ê°€ì ¸ì˜¤ê¸°</p>
    <p>```http</p>
    <p>GET /getAPTLttotPblancDetail</p>
    <p>```</p>
    <br>
    <p>**ë§¤ê°œë³€ìˆ˜:**</p>
    <li>`serviceKey`: API ì¸ì¦ í‚¤</li>
    <li>`page`: í˜ì´ì§€ ë²ˆí˜¸ (ê¸°ë³¸ê°’: 1)</li>
    <li>`perPage`: í˜ì´ì§€ë‹¹ ë ˆì½”ë“œ ìˆ˜ (ê¸°ë³¸ê°’: 50, ìµœëŒ€: 100)</li>
    <li>`HOUSE_MANAGE_NO`: ì£¼íƒ ê´€ë¦¬ ë²ˆí˜¸ (ì„ íƒ ì‚¬í•­)</li>
    <li>`PBLANC_NO`: ê³µê³  ë²ˆí˜¸ (ì„ íƒ ì‚¬í•­)</li>
    <br>
    <p>**ì‘ë‹µ í•„ë“œ:**</p>
    <p>```json</p>
    <p>{</p>
    <p>"currentCount": 1,</p>
    <p>"data": [</p>
    <p>{</p>
    <p>"HOUSE_MANAGE_NO": "2024000001",</p>
    <p>"PBLANC_NO": "2024ê°•ë‚¨01",</p>
    <p>"HOUSE_NM": "ë˜ë¯¸ì•ˆ ê°•ë‚¨í¬ë ˆìŠ¤íŠ¸",</p>
    <p>"HSSPLY_ADRES": "ì„œìš¸íŠ¹ë³„ì‹œ ê°•ë‚¨êµ¬ ëŒ€ì¹˜ë™",</p>
    <p>"TOT_SUPLY_HSHLDCO": "100",</p>
    <p>"RCRIT_PBLANC_DE": "2024-06-19",</p>
    <p>"RCEPT_BGNDE": "2024-07-01",</p>
    <p>"RCEPT_ENDDE": "2024-07-03",</p>
    <p>"SPSPLY_RCEPT_BGNDE": "2024-06-25",</p>
    <p>"SPSPLY_RCEPT_ENDDE": "2024-06-27"</p>
    <p>}</p>
    <p>],</p>
    <p>"matchCount": 1,</p>
    <p>"page": 1,</p>
    <p>"perPage": 50,</p>
    <p>"totalCount": 1</p>
    <p>}</p>
    <p>```</p>
    <br>
    <p>#### êµ¬í˜„ ì„¸ë¶€ ì •ë³´</p>
    <br>
    <p>**ì„œë¹„ìŠ¤ í†µí•©:**</p>
    <p>```java</p>
    <p>@Service</p>
    <p>public class SubscriptionService {</p>
    <br>
    <p>@Value("${sub.apt.api.url}")</p>
    <p>private String subAptApiUrl;</p>
    <br>
    <p>@Value("${sub.apt.api.key}")</p>
    <p>private String apiKey;</p>
    <br>
    <p>public String updateSubAPT() {</p>
    <p>String requestUrl = subAptApiUrl + "?page=1&perPage=50&serviceKey=" + apiKey;</p>
    <br>
    <p>try {</p>
    <p>ResponseEntity<String/> response = restTemplate.exchange(</p>
    <p>requestUrl, HttpMethod.GET, null, String.class);</p>
    <br>
    <p>// ì‘ë‹µì„ ì²˜ë¦¬í•˜ê³  ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥</p>
    <p>processSubscriptionData(response.getBody());</p>
    <br>
    <p>} catch (Exception e) {</p>
    <p>log.error("LH API í˜¸ì¶œ ì‹¤íŒ¨: {}", e.getMessage());</p>
    <p>return "API í˜¸ì¶œ ì‹¤íŒ¨: " + e.getMessage();</p>
    <p>}</p>
    <p>}</p>
    <p>}</p>
    <p>```</p>
    <br>
    <p>**ì˜¤ë¥˜ ì²˜ë¦¬:**</p>
    <li>ë„¤íŠ¸ì›Œí¬ ì‹œê°„ ì´ˆê³¼: ì§€ìˆ˜ ë°±ì˜¤í”„ë¥¼ ì‚¬ìš©í•˜ì—¬ ì¬ì‹œë„</li>
    <li>í˜¸ì¶œ ì œí•œ: ì‚¬ìš©ëŸ‰ ì¶”ì ì„ í†µí•´ ì¼ì¼ ì œí•œ ì¤€ìˆ˜</li>
    <li>ì˜ëª»ëœ ì‘ë‹µ: ë¬¸ì œì„± ë ˆì½”ë“œ ë¡œê¹… ë° ê±´ë„ˆë›°ê¸°</li>
    <li>ì¸ì¦ ì‹¤íŒ¨: ê´€ë¦¬ìì—ê²Œ ì•Œë¦¼</li>
    <br>
    <h4>2. êµ­í† êµí†µë¶€ API</h4>
    <br>
    <p>#### ëª©ì </p>
    <p>ì‹œì¥ ë¶„ì„ ë° ê°€ê²© ë¹„êµë¥¼ ìœ„í•œ ë¶€ë™ì‚° ê±°ë˜ ê°€ê²© ë°ì´í„° ê²€ìƒ‰</p>
    <br>
    <p>#### API ì„¸ë¶€ ì •ë³´</p>
    <li>**ì œê³µì**: êµ­í† êµí†µë¶€</li>
    <li>**ê¸°ë³¸ URL**: `https://apis.data.go.kr/1613000/RTMSDataSvcAptTrade`</li>
    <li>**ì¸ì¦**: ì„œë¹„ìŠ¤ í‚¤</li>
    <li>**í˜¸ì¶œ ì œí•œ**: 1ì¼ 1000ê±´</li>
    <li>**ë°ì´í„° í˜•ì‹**: XML/JSON</li>
    <br>
    <p>#### ì‚¬ìš©ëœ ì—”ë“œí¬ì¸íŠ¸</p>
    <br>
    <p>##### ì•„íŒŒíŠ¸ ê±°ë˜ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°</p>
    <p>```http</p>
    <p>GET /getRTMSDataSvcAptTrade</p>
    <p>```</p>
    <br>
    <p>**ë§¤ê°œë³€ìˆ˜:**</p>
    <li>`serviceKey`: API ì¸ì¦ í‚¤</li>
    <li>`LAWD_CD`: í–‰ì • êµ¬ì—­ ì½”ë“œ (ì‹œêµ°êµ¬ ì½”ë“œ)</li>
    <li>`DEAL_YMD`: ê±°ë˜ ì—°ì›” (YYYYMM)</li>
    <li>`numOfRows`: ë ˆì½”ë“œ ìˆ˜ (ê¸°ë³¸ê°’: 50)</li>
    <li>`pageNo`: í˜ì´ì§€ ë²ˆí˜¸</li>
    <br>
    <p>**ì‘ë‹µ ì˜ˆì‹œ:**</p>
    <p>```xml</p>
    <p><response/></p>
    <p><body/></p>
    <p><items/></p>
    <p><item/></p>
    <p><ê±°ë˜ê¸ˆì•¡>120,000</ê±°ë˜ê¸ˆì•¡></p>
    <p><ê±´ì¶•ë…„ë„>2020</ê±´ì¶•ë…„ë„></p>
    <p><ë…„>2024</ë…„></p>
    <p><ë²•ì •ë™>ëŒ€ì¹˜ë™</ë²•ì •ë™></p>
    <p><ì•„íŒŒíŠ¸>ë˜ë¯¸ì•ˆ</ì•„íŒŒíŠ¸></p>
    <p><ì›”>06</ì›”></p>
    <p><ì¼>15</ì¼></p>
    <p><ì „ìš©ë©´ì >84.93</ì „ìš©ë©´ì ></p>
    <p><ì§€ë²ˆ>123-1</ì§€ë²ˆ></p>
    <p><ì¸µ>15</ì¸µ></p>
    <p></item></p>
    <p></items></p>
    <p><body/></p>
<p></response></p>
<p>```</p>
<br>
<p>#### êµ¬í˜„ ì„¸ë¶€ ì •ë³´</p>
<br>
<p>**ë¹„ë™ê¸° ì²˜ë¦¬:**</p>
<p>```java</p>
<p>@Async</p>
<p>@Retryable(value = Exception.class, maxAttempts = 3)</p>
<p>public CompletableFuture<Void/> collectRealPriceData(String dealYMD) {</p>
<p>List<SggCode/> codes = sggCodeRepository.findAll();</p>
<br>
<p>List<CompletableFuture/><Void/>> futures = codes.stream()</p>
<p>.map(code -> CompletableFuture.runAsync(() -></p>
<p>processCodeData(code, dealYMD), taskExecutor))</p>
<p>.collect(Collectors.toList());</p>
<br>
<p>return CompletableFuture.allOf(futures.toArray(new CompletableFuture[0]));</p>
<p>}</p>
<p>```</p>
<br>
<h3>ğŸ—ºï¸ ìƒì—… API</h3>
<br>
<h4>3. ì¹´ì¹´ì˜¤ ì§€ë„ API</h4>
<br>
<p>#### ëª©ì </p>
<p>í•œêµ­ ì£¼ì†Œë¥¼ ì§€ë¦¬ì  ì¢Œí‘œë¡œ ë³€í™˜í•˜ê³  ìœ„ì¹˜ ê¸°ë°˜ ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•©ë‹ˆë‹¤.</p>
<br>
<p>#### API ì„¸ë¶€ ì •ë³´</p>
<li>**ì œê³µì**: ì¹´ì¹´ì˜¤ ì£¼ì‹íšŒì‚¬</li>
<li>**ê¸°ë³¸ URL**: `https://dapi.kakao.com`</li>
<li>**ì¸ì¦**: REST API í‚¤</li>
<li>**í˜¸ì¶œ ì œí•œ**: 1ì¼ 300,000ê±´</li>
<li>**ë°ì´í„° í˜•ì‹**: JSON</li>
<br>
<p>#### ì‚¬ìš©ëœ ì—”ë“œí¬ì¸íŠ¸</p>
<br>
<p>##### ì£¼ì†Œ ê²€ìƒ‰ (ì§€ì˜¤ì½”ë”©)</p>
<p>```http</p>
<p>GET /v2/local/search/address.json</p>
<p>```</p>
<br>
<p>**í—¤ë”:**</p>
<p>```http</p>
<p>Authorization: KakaoAK {REST_API_KEY}</p>
<p>```</p>
<br>
<p>**ë§¤ê°œë³€ìˆ˜:**</p>
<li>`query`: ê²€ìƒ‰í•  ì£¼ì†Œ (í•œêµ­ì–´)</li>
<li>`analyze_type`: ë¶„ì„ ìœ í˜• (similar, exact)</li>
<li>`page`: í˜ì´ì§€ ë²ˆí˜¸</li>
<li>`size`: í˜ì´ì§€ë‹¹ ê²°ê³¼ ìˆ˜ (1-30)</li>
<br>
<p>**ì‘ë‹µ ì˜ˆì‹œ:**</p>
<p>```json</p>
<p>{</p>
<p>"meta": {</p>
<p>"total_count": 1,</p>
<p>"pageable_count": 1,</p>
<p>"is_end": true</p>
<p>},</p>
<p>"documents": [</p>
<p>{</p>
<p>"address_name": "ì„œìš¸ ê°•ë‚¨êµ¬ ëŒ€ì¹˜ë™ 944-32",</p>
<p>"y": "37.494870",</p>
<p>"x": "127.062583",</p>
<p>"address_type": "REGION_ADDR",</p>
<p>"address": {</p>
<p>"address_name": "ì„œìš¸ ê°•ë‚¨êµ¬ ëŒ€ì¹˜ë™ 944-32",</p>
<p>"region_1depth_name": "ì„œìš¸",</p>
<p>"region_2depth_name": "ê°•ë‚¨êµ¬",</p>
<p>"region_3depth_name": "ëŒ€ì¹˜ë™",</p>
<p>"mountain_yn": "N",</p>
<p>"main_address_no": "944",</p>
<p>"sub_address_no": "32"</p>
<p>}</p>
<p>}</p>
<p>]</p>
<p>}</p>
<p>```</p>
<br>
<p>#### êµ¬í˜„ ì„¸ë¶€ ì •ë³´</p>
<br>
<p>**WebClient ì„¤ì •:**</p>
<p>```java</p>
<p>@Configuration</p>
<p>public class WebClientConfig {</p>
<br>
<p>@Value("${kakao.api.key}")</p>
<p>private String kakaoApiKey;</p>
<br>
<p>@Bean</p>
<p>public WebClient kakaoWebClient() {</p>
<p>return WebClient.builder()</p>
<p>.baseUrl("[https://dapi.kakao.com](https://dapi.kakao.com)")</p>
<p>.defaultHeader("Authorization", "KakaoAK " + kakaoApiKey)</p>
<p>.codecs(configurer -> configurer.defaultCodecs().maxInMemorySize(1024 * 1024))</p>
<p>.build();</p>
<p>}</p>
<p>}</p>
<p>```</p>
<br>
<p>**ì£¼ì†Œ ì§€ì˜¤ì½”ë”© ì„œë¹„ìŠ¤:**</p>
<p>```java</p>
<p>@Service</p>
<p>public class GeocodingService {</p>
<br>
<p>private final WebClient webClient;</p>
<br>
<p>public GeocodingService(WebClient kakaoWebClient) {</p>
<p>this.webClient = kakaoWebClient;</p>
<p>}</p>
<br>
<p>public Mono<CoordinateResponseDTO/> getCoordinates(String address) {</p>
<p>return webClient.get()</p>
<p>.uri(uriBuilder -> uriBuilder</p>
<p>.path("/v2/local/search/address.json")</p>
<p>.queryParam("query", address)</p>
<p>.build())</p>
<p>.retrieve()</p>
<p>.bodyToMono(String.class)</p>
<p>.map(this::parseCoordinates)</p>
<p>.onErrorReturn(new CoordinateResponseDTO(null, null));</p>
<p>}</p>
<br>
<p>private CoordinateResponseDTO parseCoordinates(String jsonResponse) {</p>
<p>// JSON ì‘ë‹µì„ íŒŒì‹±í•˜ì—¬ ì¢Œí‘œ ì¶”ì¶œ</p>
<p>// ì˜ˆì‹œ êµ¬í˜„ (ì‹¤ì œ íŒŒì„œëŠ” ë” ë³µì¡í•  ìˆ˜ ìˆìŒ)</p>
<p>try {</p>
<p>JsonNode root = new ObjectMapper().readTree(jsonResponse);</p>
<p>JsonNode document = root.path("documents").get(0);</p>
<p>if (document != null) {</p>
<p>double latitude = document.path("y").asDouble();</p>
<p>double longitude = document.path("x").asDouble();</p>
<p>return new CoordinateResponseDTO(latitude, longitude);</p>
<p>}</p>
<p>} catch (Exception e) {</p>
<p>log.error("ì¢Œí‘œ íŒŒì‹± ì‹¤íŒ¨: {}", e.getMessage());</p>
<p>}</p>
<p>return new CoordinateResponseDTO(null, null);</p>
<p>}</p>
<p>}</p>
<p>```</p>
<br>
<h4>4. ë„¤ì´ë²„ ë‰´ìŠ¤ API</h4>
<br>
<p>#### ëª©ì </p>
<p>ì‹œì¥ ì •ë³´ ë° ì‚¬ìš©ì ì •ë³´ë¥¼ ìœ„í•œ í•œêµ­ ë¶€ë™ì‚° ë‰´ìŠ¤ ì§‘ê³„</p>
<br>
<p>#### API ì„¸ë¶€ ì •ë³´</p>
<li>**ì œê³µì**: ë„¤ì´ë²„ ì£¼ì‹íšŒì‚¬</li>
<li>**ê¸°ë³¸ URL**: `https://openapi.naver.com/v1/search`</li>
<li>**ì¸ì¦**: í´ë¼ì´ì–¸íŠ¸ ID ë° í´ë¼ì´ì–¸íŠ¸ ì‹œí¬ë¦¿</li>
<li>**í˜¸ì¶œ ì œí•œ**: 1ì¼ 25,000ê±´</li>
<li>**ë°ì´í„° í˜•ì‹**: JSON</li>
<br>
<p>#### ì‚¬ìš©ëœ ì—”ë“œí¬ì¸íŠ¸</p>
<br>
<p>##### ë‰´ìŠ¤ ê²€ìƒ‰</p>
<p>```http</p>
<p>GET /news.json</p>
<p>```</p>
<br>
<p>**í—¤ë”:**</p>
<p>```http</p>
<p>X-Naver-Client-Id: {CLIENT_ID}</p>
<p>X-Naver-Client-Secret: {CLIENT_SECRET}</p>
<p>```</p>
<br>
<p>**ë§¤ê°œë³€ìˆ˜:**</p>
<li>`query`: ê²€ìƒ‰ í‚¤ì›Œë“œ</li>
<li>`display`: ê²°ê³¼ ìˆ˜ (1-100)</li>
<li>`start`: ì‹œì‘ ìœ„ì¹˜ (1-1000)</li>
<li>`sort`: ì •ë ¬ ìˆœì„œ (sim, date)</li>
<br>
<p>**ì‘ë‹µ ì˜ˆì‹œ:**</p>
<p>```json</p>
<p>{</p>
<p>"lastBuildDate": "Mon, 19 Jun 2024 17:41:29 +0900",</p>
<p>"total": 8420,</p>
<p>"start": 1,</p>
<p>"display": 10,</p>
<p>"items": [</p>
<p>{</p>
<p>"title": "[ë¶€ë™ì‚°] ê°•ë‚¨êµ¬ ì•„íŒŒíŠ¸ ì²­ì•½ ê²½ìŸë¥  ìƒìŠ¹",</p>
<p>"originallink": "[https://example.com/news/123](https://example.com/news/123)",</p>
<p>"link": "[https://news.naver.com/main/read.nhn?mode=](https://news.naver.com/main/read.nhn?mode=)...",</p>
<p>"description": "ì„œìš¸ ê°•ë‚¨êµ¬ ì•„íŒŒíŠ¸ ì²­ì•½ ê²½ìŸë¥ ì´ ê¸‰ìƒìŠ¹í•˜ê³  ìˆë‹¤...",</p>
<p>"pubDate": "Mon, 19 Jun 2024 16:30:00 +0900"</p>
<p>}</p>
<p>]</p>
<p>}</p>
<p>```</p>
<br>
<p>#### êµ¬í˜„ ì„¸ë¶€ ì •ë³´</p>
<br>
<p>**ëª¨ë‹ˆí„°ë§ í‚¤ì›Œë“œ:**</p>
<p>```java</p>
<p>private static final List<String/> REAL_ESTATE_KEYWORDS = Arrays.asList(</p>
<p>"ë¶€ë™ì‚°", "ì£¼íƒ", "ì•„íŒŒíŠ¸", "ì²­ì•½", "ë¶„ì–‘", "LH",</p>
<p>"ë¶€ë™ì‚°ì •ì±…", "ì£¼íƒì •ì±…", "ì„ëŒ€ì°¨", "ì „ì›”ì„¸", "ì¬ê±´ì¶•",</p>
<p>"êµ­í† êµí†µë¶€", "ê°€ê³„ëŒ€ì¶œ", "ì£¼ë‹´ëŒ€", "ì‹œì„¸", "ë§¤ë§¤"</p>
<p>);</p>
<p>```</p>
<br>
<p>**ì½˜í…ì¸  í•„í„°ë§ íŒŒì´í”„ë¼ì¸:**</p>
<p>```java</p>
<p>public List<NewsItem/> filterAndDeduplicateNews(List<NewsItem/> newsItems) {</p>
<p>return newsItems.stream()</p>
<p>.filter(this::isValidNewsItem)</p>
<p>.filter(this::isNotDuplicate)</p>
<p>.filter(this::passesContentQualityCheck)</p>
<p>.filter(this::isRelevantToRealEstate)</p>
<p>.filter(this::isNotAdvertisement)</p>
<p>.filter(this::isFromTrustedSource)</p>
<p>.collect(Collectors.toList());</p>
<p>}</p>
<p>```</p>
<br>
<h4>5. Google Gemini API</h4>
<br>
<p>#### ëª©ì </p>
<p>í•œêµ­ ë¶€ë™ì‚° ì§ˆë¬¸ì— ëŒ€í•œ AI ê¸°ë°˜ ëŒ€í™”í˜• ì§€ì› ì œê³µ</p>
<br>
<p>#### API ì„¸ë¶€ ì •ë³´</p>
<li>**ì œê³µì**: Google AI</li>
<li>**ê¸°ë³¸ URL**: `https://generativelanguage.googleapis.com`</li>
<li>**ì¸ì¦**: API í‚¤</li>
<li>**í˜¸ì¶œ ì œí•œ**: êµ¬ì„± ê°€ëŠ¥í•œ í• ë‹¹ëŸ‰</li>
<li>**ë°ì´í„° í˜•ì‹**: JSON</li>
<br>
<p>#### ì‚¬ìš©ëœ ì—”ë“œí¬ì¸íŠ¸</p>
<br>
<p>##### ì½˜í…ì¸  ìƒì„±</p>
<p>```http</p>
<p>POST /v1/models/gemini-pro:generateContent</p>
<p>```</p>
<br>
<p>**í—¤ë”:**</p>
<p>```http</p>
<p>Content-Type: application/json</p>
<p>Authorization: Bearer {API_KEY}</p>
<p>```</p>
<br>
<p>**ìš”ì²­ ì˜ˆì‹œ:**</p>
<p>```json</p>
<p>{</p>
<p>"contents": [</p>
<p>{</p>
<p>"parts": [</p>
<p>{</p>
<p>"text": "ê°•ë‚¨êµ¬ ì²­ì•½ ìê²© ì¡°ê±´ì— ëŒ€í•´ ì„¤ëª…í•´ì£¼ì„¸ìš”."</p>
<p>}</p>
<p>]</p>
<p>}</p>
<p>],</p>
<p>"generationConfig": {</p>
<p>"temperature": 0.7,</p>
<p>"maxOutputTokens": 1000</p>
<p>}</p>
<p>}</p>
<p>```</p>
<br>
<p>**ì‘ë‹µ ì˜ˆì‹œ:**</p>
<p>```json</p>
<p>{</p>
<p>"candidates": [</p>
<p>{</p>
<p>"content": {</p>
<p>"parts": [</p>
<p>{</p>
<p>"text": "ê°•ë‚¨êµ¬ ì²­ì•½ ìê²© ì¡°ê±´ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:\n\n1. ì²­ì•½í†µì¥ ê°€ì… ê¸°ê°„\n2. ì†Œë“ ë° ìì‚° ê¸°ì¤€\n3. ê±°ì£¼ ì§€ì—­ ìš”ê±´\n4. ì£¼íƒ ë³´ìœ  í˜„í™©\n\nê° ì¡°ê±´ì— ëŒ€í•´ ìì„¸íˆ ì„¤ëª…ë“œë¦¬ê² ìŠµë‹ˆë‹¤..."</p>
<p>}</p>
<p>]</p>
<p>},</p>
<p>"finishReason": "STOP"</p>
<p>}</p>
<p>]</p>
<p>}</p>
<p>```</p>
<br>
<p>#### êµ¬í˜„ ì„¸ë¶€ ì •ë³´</p>
<br>
<p>**WebSocket í†µí•©:**</p>
<p>```java</p>
<p>@Component</p>
<p>public class ChatWebSocketHandler extends TextWebSocketHandler {</p>
<br>
<p>private final SessionManager sessionManager;</p>
<p>private final GeminiClient geminiClient;</p>
<br>
<p>public ChatWebSocketHandler(SessionManager sessionManager, GeminiClient geminiClient) {</p>
<p>this.sessionManager = sessionManager;</p>
<p>this.geminiClient = geminiClient;</p>
<p>}</p>
<br>
<p>@Override</p>
<p>public void afterConnectionEstablished(WebSocketSession session) {</p>
<p>// Gemini ì»¨í…ìŠ¤íŠ¸ë¡œ ì±„íŒ… ì„¸ì…˜ ì´ˆê¸°í™”</p>
<p>ChatSession chatSession = new ChatSession();</p>
<p>chatSession.addMessage("system", "ë‹¹ì‹ ì€ í•œêµ­ ë¶€ë™ì‚° ì „ë¬¸ê°€ì…ë‹ˆë‹¤...");</p>
<p>sessionManager.addSession(session.getId(), chatSession);</p>
<p>}</p>
<br>
<p>@Override</p>
<p>protected void handleTextMessage(WebSocketSession session, TextMessage message) {</p>
<p>// ì‚¬ìš©ì ë©”ì‹œì§€ë¥¼ ì²˜ë¦¬í•˜ê³  Gemini ì‘ë‹µ ë°›ê¸°</p>
<p>String response = geminiClient.generateResponse(message.getPayload());</p>
<p>session.sendMessage(new TextMessage(response));</p>
<p>}</p>
<p>}</p>
<p>```</p>
<br>
<h3>ğŸ”§ í†µí•© íŒ¨í„´</h3>
<br>
<h4>1. ì¬ì‹œë„ ë©”ì»¤ë‹ˆì¦˜</h4>
<br>
<p>```java</p>
<p>@Retryable(</p>
<p>value = {RestClientException.class, SocketTimeoutException.class},</p>
<p>maxAttempts = 3,</p>
<p>backoff = @Backoff(delay = 1000, multiplier = 2)</p>
<p>)</p>
<p>public String callExternalAPI(String url) {</p>
<p>return restTemplate.getForObject(url, String.class);</p>
<p>}</p>
<p>```</p>
<br>
<h4>2. íšŒë¡œ ì°¨ë‹¨ê¸°</h4>
<br>
<p>```java</p>
<p>@Component</p>
<p>public class ExternalAPICircuitBreaker {</p>
<br>
<p>private final RestTemplate restTemplate;</p>
<p>private final CircuitBreaker circuitBreaker = CircuitBreaker.ofDefaults("externalAPI");</p>
<br>
<p>public ExternalAPICircuitBreaker(RestTemplate restTemplate) {</p>
<p>this.restTemplate = restTemplate;</p>
<p>}</p>
<br>
<p>public String callWithCircuitBreaker(String url) {</p>
<p>return circuitBreaker.executeSupplier(() -> restTemplate.getForObject(url, String.class));</p>
<p>}</p>
<p>}</p>
<p>```</p>
<br>
<h4>3. í˜¸ì¶œ ì œí•œ</h4>
<br>
<p>```java</p>
<p>@Component</p>
<p>public class RateLimitedAPIClient {</p>
<br>
<p>private final RestTemplate restTemplate;</p>
<p>private final RateLimiter rateLimiter = RateLimiter.create(1.0); // ì´ˆë‹¹ 1íšŒ ìš”ì²­</p>
<br>
<p>public RateLimitedAPIClient(RestTemplate restTemplate) {</p>
<p>this.restTemplate = restTemplate;</p>
<p>}</p>
<br>
<p>public String callAPI(String url) {</p>
<p>rateLimiter.acquire();</p>
<p>return restTemplate.getForObject(url, String.class);</p>
<p>}</p>
<p>}</p>
<p>```</p>
<br>
<h4>4. ìºì‹± ì „ëµ</h4>
<br>
<p>```java</p>
<p>@Cacheable(value = "externalAPICache", key = "#url")</p>
<p>public String getCachedAPIResponse(String url) {</p>
<p>return callExternalAPI(url);</p>
<p>}</p>
<br>
<p>@CacheEvict(value = "externalAPICache", allEntries = true)</p>
<p>@Scheduled(fixedRate = 3600000) // 1ì‹œê°„ë§ˆë‹¤ ìºì‹œ ì§€ìš°ê¸°</p>
<p>public void clearCache() {</p>
<p>log.info("ì™¸ë¶€ API ìºì‹œ ì§€ìš°ëŠ” ì¤‘");</p>
<p>}</p>
<p>```</p>
<br>
<h3>ğŸ“Š ëª¨ë‹ˆí„°ë§ ë° ì•Œë¦¼</h3>
<br>
<h4>API ìƒíƒœ í™•ì¸</h4>
<br>
<p>```java</p>
<p>@Component</p>
<p>public class APIHealthIndicator implements HealthIndicator {</p>
<br>
<p>private final SubscriptionService subscriptionService;</p>
<p>private final GeocodingService geocodingService;</p>
<p>private final NaverNewsAPI naverNewsAPI;</p>
<br>
<p>public APIHealthIndicator(SubscriptionService subscriptionService, GeocodingService geocodingService, NaverNewsAPI naverNewsAPI) {</p>
<p>this.subscriptionService = subscriptionService;</p>
<p>this.geocodingService = geocodingService;</p>
<p>this.naverNewsAPI = naverNewsAPI;</p>
<p>}</p>
<br>
<p>@Override</p>
<p>public Health health() {</p>
<p>try {</p>
<p>// ê° ì™¸ë¶€ API í…ŒìŠ¤íŠ¸</p>
<p>testLHAPI();</p>
<p>testKakaoAPI();</p>
<p>testNaverAPI();</p>
<br>
<p>return Health.up()</p>
<p>.withDetail("apis", "ëª¨ë“  ì™¸ë¶€ APIê°€ ì •ìƒì…ë‹ˆë‹¤.")</p>
<p>.build();</p>
<p>} catch (Exception e) {</p>
<p>return Health.down()</p>
<p>.withDetail("error", e.getMessage())</p>
<p>.build();</p>
<p>}</p>
<p>}</p>
<br>
<p>private void testLHAPI() throws Exception {</p>
<p>// LH API í˜¸ì¶œ í…ŒìŠ¤íŠ¸ (ì˜ˆ: ì‘ì€ ìš”ì²­)</p>
<p>subscriptionService.updateSubAPT();</p>
<p>}</p>
<br>
<p>private void testKakaoAPI() throws Exception {</p>
<p>// ì¹´ì¹´ì˜¤ API í˜¸ì¶œ í…ŒìŠ¤íŠ¸ (ì˜ˆ: ì„ì˜ ì£¼ì†Œ ì§€ì˜¤ì½”ë”©)</p>
<p>geocodingService.getCoordinates("ì„œìš¸ì‹œ ê°•ë‚¨êµ¬").block();</p>
<p>}</p>
<br>
<p>private void testNaverAPI() throws Exception {</p>
<p>// ë„¤ì´ë²„ ë‰´ìŠ¤ API í˜¸ì¶œ í…ŒìŠ¤íŠ¸ (ì˜ˆ: ì‘ì€ ê²€ìƒ‰)</p>
<p>naverNewsAPI.fetchNews("ë¶€ë™ì‚°", 1, 1);</p>
<p>}</p>
<p>}</p>
<p>```</p>
<br>
<h4>ë©”íŠ¸ë¦­ ìˆ˜ì§‘</h4>
<br>
<p>```java</p>
<p>@Component</p>
<p>public class APIMetrics {</p>
<br>
<p>private final Counter apiCallCounter = Counter.builder("api.calls.total")</p>
<p>.tag("service", "external")</p>
<p>.register(Metrics.globalRegistry);</p>
<br>
<p>private final Timer apiResponseTimer = Timer.builder("api.response.time")</p>
<p>.register(Metrics.globalRegistry);</p>
<br>
<p>public <T/> T measureAPICall(String apiName, Supplier<T/> apiCall) {</p>
<p>return Timer.Sample.start()</p>
<p>.stop(apiResponseTimer.tag("api", apiName))</p>
<p>.recordCallable(() -> {</p>
<p>apiCallCounter.increment(Tags.of("api", apiName));</p>
<p>return apiCall.get();</p>
<p>});</p>
<p>}</p>
<p>}</p>
<p>```</p>
<br>
<h3>ğŸš¨ ì˜¤ë¥˜ ì²˜ë¦¬</h3>
<br>
<h4>APIë³„ ì˜¤ë¥˜ ì²˜ë¦¬</h4>
<br>
<p>```java</p>
<p>@Component</p>
<p>public class ExternalAPIErrorHandler {</p>
<br>
<p>private final Logger log = LoggerFactory.getLogger(ExternalAPIErrorHandler.class);</p>
<br>
<p>public void handleLHAPIError(Exception e) {</p>
<p>if (e instanceof HttpClientErrorException) {</p>
<p>HttpClientErrorException httpError = (HttpClientErrorException) e;</p>
<p>if (httpError.getStatusCode() == HttpStatus.TOO_MANY_REQUESTS) {</p>
<p>// í˜¸ì¶œ ì œí•œ ì²˜ë¦¬</p>
<p>log.warn("LH API í˜¸ì¶œ ì œí•œ ë°œìƒ, 1ë¶„ í›„ ì¬ì‹œë„ ì˜ˆì•½"); // ë¡œê¹… ì¶”ê°€</p>
<p>scheduleRetryAfterDelay(60000); // 1ë¶„</p>
<p>} else {</p>
<p>log.error("LH API HTTP ì˜¤ë¥˜: ìƒíƒœ ì½”ë“œ {}, ë©”ì‹œì§€ {}", httpError.getStatusCode(), httpError.getMessage());</p>
<p>}</p>
<p>} else {</p>
<p>log.error("LH API ì˜¤ë¥˜: {}", e.getMessage(), e);</p>
<p>}</p>
<p>}</p>
<br>
<p>public void handleKakaoAPIError(Exception e) {</p>
<p>// ì¹´ì¹´ì˜¤ íŠ¹ì • ì˜¤ë¥˜ ì²˜ë¦¬</p>
<p>log.error("ì¹´ì¹´ì˜¤ API ì˜¤ë¥˜: {}", e.getMessage());</p>
<p>// ìºì‹œëœ ì¢Œí‘œ ë˜ëŠ” ê¸°ë³¸ê°’ìœ¼ë¡œ ëŒ€ì²´</p>
<p>}</p>
<br>
<p>private void scheduleRetryAfterDelay(long delayMillis) {</p>
<p>// ì‹¤ì œ ì¬ì‹œë„ ë¡œì§ êµ¬í˜„ (ì˜ˆ: ìŠ¤ì¼€ì¤„ëŸ¬ ì‚¬ìš©)</p>
<p>// Spring Scheduler, Quartz ë“±ì„ ì‚¬ìš©í•˜ì—¬ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<p>log.info("API ì¬ì‹œë„ {}ms í›„ ì˜ˆì•½ë¨", delayMillis);</p>
<p>}</p>
<p>}</p>
<p>```</p>
<br>
<h4>ëŒ€ì²´ ì „ëµ</h4>
<br>
<p>```java</p>
<p>@Service</p>
<p>public class NewsServiceWithFallback {</p>
<br>
<p>private final NaverNewsAPI naverNewsAPI;</p>
<p>private final NewsRepository newsRepository;</p>
<p>private final Logger log = LoggerFactory.getLogger(NewsServiceWithFallback.class);</p>
<br>
<p>public NewsServiceWithFallback(NaverNewsAPI naverNewsAPI, NewsRepository newsRepository) {</p>
<p>this.naverNewsAPI = naverNewsAPI;</p>
<p>this.newsRepository = newsRepository;</p>
<p>}</p>
<br>
<p>public List<NewsItem/> getNews() {</p>
<p>try {</p>
<p>return naverNewsAPI.fetchNews("ë¶€ë™ì‚°", 10, 1); // ì˜ˆì‹œ ë§¤ê°œë³€ìˆ˜</p>
<p>} catch (Exception e) {</p>
<p>log.warn("ë„¤ì´ë²„ ë‰´ìŠ¤ API ì‹¤íŒ¨, ìºì‹œëœ ë‰´ìŠ¤ ì‚¬ìš©", e);</p>
<p>return getCachedNews();</p>
<p>}</p>
<p>}</p>
<br>
<p>private List<NewsItem/> getCachedNews() {</p>
<p>return newsRepository.findRecentNews(PageRequest.of(0, 10)).getContent(); // Pageable ì‚¬ìš© ì˜ˆì‹œ</p>
<p>}</p>
<p>}</p>
<p>```</p>
<br>
<h3>ğŸ“‹ êµ¬ì„±</h3>
<br>
<h4>ì• í”Œë¦¬ì¼€ì´ì…˜ ì†ì„±</h4>
<br>
<p>```properties</p>
<h2>í•œêµ­í† ì§€ì£¼íƒê³µì‚¬ API</h2>
<p>sub.apt.api.url=[https://api.odcloud.kr/api/ApplyhomeInfoDetailSvc/v1/getAPTLttotPblancDetail](https://api.odcloud.kr/api/ApplyhomeInfoDetailSvc/v1/getAPTLttotPblancDetail)</p>
<p>sub.apt.api.key=${LH_API_KEY}</p>
<br>
<h2>êµ­í† êµí†µë¶€ API</h2>
<p>realestate.api.url=[https://apis.data.go.kr/1613000/RTMSDataSvcAptTrade/getRTMSDataSvcAptTrade](https://apis.data.go.kr/1613000/RTMSDataSvcAptTrade/getRTMSDataSvcAptTrade)</p>
<p>realestate.api.key=${REALESTATE_API_KEY}</p>
<br>
<h2>ì¹´ì¹´ì˜¤ API</h2>
<p>kakao.api.url=[https://dapi.kakao.com](https://dapi.kakao.com)</p>
<p>kakao.api.key=${KAKAO_API_KEY}</p>
<br>
<h2>ë„¤ì´ë²„ ë‰´ìŠ¤ API</h2>
<p>naver.client.id=${NAVER_CLIENT_ID}</p>
<p>naver.client.secret=${NAVER_CLIENT_SECRET}</p>
<br>
<h2>Gemini API</h2>
<p>gemini.api.url=[https://generativelanguage.googleapis.com](https://generativelanguage.googleapis.com)</p>
<p>gemini.api.key=${GEMINI_API_KEY}</p>
<br>
<h2>API ì„¤ì •</h2>
<p>api.timeout.connect=5000</p>
<p>api.timeout.read=30000</p>
<p>api.retry.max-attempts=3</p>
<p>api.retry.delay=1000</p>
<p>```</p>
<br>
<h4>í™˜ê²½ë³„ ì„¤ì •</h4>
<br>
<p>**ê°œë°œ:**</p>
<p>```properties</p>
<p>api.timeout.read=10000</p>
<p>api.retry.max-attempts=1</p>
<p>logging.level.org.springframework.web.client=DEBUG</p>
<p>```</p>
<br>
<p>**ìš´ì˜:**</p>
<p>```properties</p>
<p>api.timeout.read=30000</p>
<p>api.retry.max-attempts=3</p>
<p>api.circuit-breaker.enabled=true</p>
<p>```</p>
<br>
<p>---</p>
<br>
<p>**ì™¸ë¶€ API ë¬¸ì„œ ë²„ì „**: 1.0</p>
<p><strong>ìµœì¢… ì—…ë°ì´íŠ¸</strong>: 2025-06-26</p>
<p>**ì´ í†µí•©**: 5ê°œ API</p>
</section>
<footer class="footer">
  <p>ìµœì¢… ì—…ë°ì´íŠ¸: 2025-06-26 | <a href="../index.html">ë¬¸ì„œ í™ˆìœ¼ë¡œ</a></p>
</footer>
</div>
</body>
</html>